\hypertarget{classdatabase_1_1_server_database_test}{}\doxysection{database.\+Server\+Database\+Test Class Reference}
\label{classdatabase_1_1_server_database_test}\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}}


Inheritance diagram for database.\+Server\+Database\+Test\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{classdatabase_1_1_server_database_test__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for database.\+Server\+Database\+Test\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{classdatabase_1_1_server_database_test__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_a6c95000dc58dde7069a80a602952c188}{test\+\_\+currency}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_a9623bc8062c3d0a1b5f8c5245d144a3e}{test\+\_\+banking\+\_\+byemail}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_aaf0c2f070e584254ab662f50502c3c7c}{test\+\_\+banking\+\_\+byname}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_a907489a3fcc63a12b5da6cffc0c4d4ce}{test\+\_\+bank\+\_\+account\+\_\+exist\+\_\+by\+\_\+cid}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_aff371e1da020a9f44f0c8d0968d1963c}{test\+\_\+client\+\_\+exists}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_acaf50537a1442a19c8c907976342a6ef}{test\+\_\+credential\+\_\+exists}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_a4730f14dd16271d65cdc5e04978d017c}{test\+\_\+add\+\_\+bank\+\_\+account}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_a47192eae9d5d69403964cf09f31d0008}{test\+\_\+bid\+\_\+cid\+\_\+conversion}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_a78035b38d8dfa943ae2f6433be51eac7}{test\+\_\+balance}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_ab7a182e9a784deb11b123340d9f04f42}{test\+\_\+total\+\_\+balance}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_a8799a5652477f425dfe731475590c36c}{test\+\_\+banking\+\_\+ids}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_a949cf63fa0d447c810fa8263ca209bdd}{test\+\_\+update\+\_\+balance}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_a10f7732f3ce5b85197d9b8bf97c3a214}{test\+\_\+credid2cid}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_aa6e782c291a261aaf97f95bfb3009a36}{test\+\_\+password}} (self)
\item 
def \mbox{\hyperlink{classdatabase_1_1_server_database_test_a41e3628ffcad40e12a039d790f52ad00}{test\+\_\+transaction}} (self)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 26 of file database.\+py.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_a4730f14dd16271d65cdc5e04978d017c}\label{classdatabase_1_1_server_database_test_a4730f14dd16271d65cdc5e04978d017c}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_add\_bank\_account@{test\_add\_bank\_account}}
\index{test\_add\_bank\_account@{test\_add\_bank\_account}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_add\_bank\_account()}{test\_add\_bank\_account()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+add\+\_\+bank\+\_\+account (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 112 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{112     \textcolor{keyword}{def }test\_add\_bank\_account(self):}
\DoxyCodeLine{113         exchange=Currency(EUR)}
\DoxyCodeLine{114         rate=exchange.rate}
\DoxyCodeLine{115         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{116             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{117         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{118         passcode=\mbox{\hyperlink{namespaceclient_1_1client_acf449723d20f006b07f947ef4b68b225}{get\_rand\_pass}}()}
\DoxyCodeLine{119         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{120         credid=\mbox{\hyperlink{namespaceclient_1_1client_a1beb02f2a714df26019dc87d9c754e9c}{get\_credid}}(email)}
\DoxyCodeLine{121         banalce=\mbox{\hyperlink{namespaceclient_1_1client_a3ac8178d0ad128d3c42b9a4b13b30e01}{get\_balance}}()}
\DoxyCodeLine{122         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{123         name=\mbox{\hyperlink{namespaceclient_1_1client_acc7c8dc333a379c50d929a5d0be5045e}{get\_name}}()}
\DoxyCodeLine{124         db.inserts.add\_client(name, email, curr\_id)}
\DoxyCodeLine{125         cid=db.gets.get\_client\_id\_byemail(email)}
\DoxyCodeLine{126         db.inserts.register(cid, passcode, credid)}
\DoxyCodeLine{127         \textcolor{comment}{\#add\_bank\_addount}}
\DoxyCodeLine{128         bid=db.inserts.add\_bank\_account(cid, balance, bank\_name, branch\_number, account\_number, name\_reference, curr\_id)}
\DoxyCodeLine{129         self.assertTrue(db.exists.bank\_account\_bycid(cid))}

\end{DoxyCode}


References client.\+client.\+get\+\_\+balance(), client.\+client.\+get\+\_\+credid(), client.\+client.\+get\+\_\+email(), client.\+client.\+get\+\_\+name(), and client.\+client.\+get\+\_\+rand\+\_\+pass().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_a4730f14dd16271d65cdc5e04978d017c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_a78035b38d8dfa943ae2f6433be51eac7}\label{classdatabase_1_1_server_database_test_a78035b38d8dfa943ae2f6433be51eac7}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_balance@{test\_balance}}
\index{test\_balance@{test\_balance}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_balance()}{test\_balance()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+balance (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 156 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{156     \textcolor{keyword}{def }test\_balance(self):}
\DoxyCodeLine{157         exchange=Currency(EUR)}
\DoxyCodeLine{158         rate=exchange.rate}
\DoxyCodeLine{159         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{160             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{161         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{162         passcode=\mbox{\hyperlink{namespaceclient_1_1client_acf449723d20f006b07f947ef4b68b225}{get\_rand\_pass}}()}
\DoxyCodeLine{163         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{164         credid=\mbox{\hyperlink{namespaceclient_1_1client_a1beb02f2a714df26019dc87d9c754e9c}{get\_credid}}(email)}
\DoxyCodeLine{165         banalce=\mbox{\hyperlink{namespaceclient_1_1client_a3ac8178d0ad128d3c42b9a4b13b30e01}{get\_balance}}()}
\DoxyCodeLine{166         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{167         name=\mbox{\hyperlink{namespaceclient_1_1client_acc7c8dc333a379c50d929a5d0be5045e}{get\_name}}()}
\DoxyCodeLine{168         db.inserts.add\_client(name, email, curr\_id)}
\DoxyCodeLine{169         cid=db.gets.get\_client\_id\_byemail(email)}
\DoxyCodeLine{170         db.inserts.register(cid, passcode, credid)}
\DoxyCodeLine{171         \textcolor{comment}{\#add\_bank\_addount}}
\DoxyCodeLine{172         bid=db.inserts.add\_bank\_account(cid, balance, bank\_name, branch\_number, account\_number, name\_reference, curr\_id)}
\DoxyCodeLine{173         bank\_exists=db.exists.bank\_account\_bycid(cid)}
\DoxyCodeLine{174         self.assertTrue(bank\_exists)}
\DoxyCodeLine{175         print(\textcolor{stringliteral}{'cid: '}, cid)}
\DoxyCodeLine{176         balance\_cur=db.gets.get\_balance\_by\_cid(cid)[\textcolor{stringliteral}{'balance'}]}
\DoxyCodeLine{177         self.assertEqual(balance\_cur, balance)}

\end{DoxyCode}


References client.\+client.\+get\+\_\+balance(), client.\+client.\+get\+\_\+credid(), client.\+client.\+get\+\_\+email(), client.\+client.\+get\+\_\+name(), and client.\+client.\+get\+\_\+rand\+\_\+pass().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_a78035b38d8dfa943ae2f6433be51eac7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_a907489a3fcc63a12b5da6cffc0c4d4ce}\label{classdatabase_1_1_server_database_test_a907489a3fcc63a12b5da6cffc0c4d4ce}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_bank\_account\_exist\_by\_cid@{test\_bank\_account\_exist\_by\_cid}}
\index{test\_bank\_account\_exist\_by\_cid@{test\_bank\_account\_exist\_by\_cid}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_bank\_account\_exist\_by\_cid()}{test\_bank\_account\_exist\_by\_cid()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+bank\+\_\+account\+\_\+exist\+\_\+by\+\_\+cid (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 69 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{69     \textcolor{keyword}{def }test\_bank\_account\_exist\_by\_cid(self):}
\DoxyCodeLine{70         exchange=Currency(EUR)}
\DoxyCodeLine{71         rate=exchange.rate}
\DoxyCodeLine{72         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{73             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{74         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{75         name=\mbox{\hyperlink{namespaceclient_1_1client_acc7c8dc333a379c50d929a5d0be5045e}{get\_name}}()}
\DoxyCodeLine{76         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{77         db.inserts.add\_client(name, email, curr\_id)}
\DoxyCodeLine{78         cid=db.gets.get\_client\_id\_byemail(email)}
\DoxyCodeLine{79         self.assertFalse(db.exists.bank\_account\_bycid(cid))}
\DoxyCodeLine{80 }

\end{DoxyCode}


References client.\+client.\+get\+\_\+email(), and client.\+client.\+get\+\_\+name().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_a907489a3fcc63a12b5da6cffc0c4d4ce_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_a9623bc8062c3d0a1b5f8c5245d144a3e}\label{classdatabase_1_1_server_database_test_a9623bc8062c3d0a1b5f8c5245d144a3e}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_banking\_byemail@{test\_banking\_byemail}}
\index{test\_banking\_byemail@{test\_banking\_byemail}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_banking\_byemail()}{test\_banking\_byemail()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+banking\+\_\+byemail (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 38 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{38     \textcolor{keyword}{def }test\_banking\_byemail(self):}
\DoxyCodeLine{39         \textcolor{comment}{\#db.init()}}
\DoxyCodeLine{40         \textcolor{comment}{\#db.repeatable\_read()}}
\DoxyCodeLine{41         \textcolor{comment}{\#db.lock\_advisory(lock)}}
\DoxyCodeLine{42         exchange=Currency(EUR)}
\DoxyCodeLine{43         rate=exchange.rate}
\DoxyCodeLine{44         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{45             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{46         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{47         db.inserts.add\_client(name, email, curr\_id)}
\DoxyCodeLine{48         self.assertTrue(db.exists.account\_byemail(email))}
\DoxyCodeLine{49         cid=db.gets.get\_client\_id\_byemail(email)}
\DoxyCodeLine{50         self.assertTrue(db.exists.client\_exists(cid))}
\DoxyCodeLine{51         \textcolor{comment}{\#db.rollback(lock)}}
\DoxyCodeLine{52 }

\end{DoxyCode}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_aaf0c2f070e584254ab662f50502c3c7c}\label{classdatabase_1_1_server_database_test_aaf0c2f070e584254ab662f50502c3c7c}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_banking\_byname@{test\_banking\_byname}}
\index{test\_banking\_byname@{test\_banking\_byname}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_banking\_byname()}{test\_banking\_byname()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+banking\+\_\+byname (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 53 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{53     \textcolor{keyword}{def }test\_banking\_byname(self):}
\DoxyCodeLine{54         exchange=Currency(EUR)}
\DoxyCodeLine{55         rate=exchange.rate}
\DoxyCodeLine{56         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{57             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{58         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{59         passcode=\mbox{\hyperlink{namespaceclient_1_1client_acf449723d20f006b07f947ef4b68b225}{get\_rand\_pass}}()}
\DoxyCodeLine{60         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{61         name=\mbox{\hyperlink{namespaceclient_1_1client_acc7c8dc333a379c50d929a5d0be5045e}{get\_name}}()}
\DoxyCodeLine{62         db.inserts.add\_client(name, email, curr\_id)}
\DoxyCodeLine{63         cid=db.gets.get\_client\_id\_byemail(email)}
\DoxyCodeLine{64         db.inserts.register(cid, passcode, credid)}
\DoxyCodeLine{65         self.assertTrue(db.exists.account\_byname(name, passcode))}
\DoxyCodeLine{66         cid=db.gets.get\_client\_id\_byname(name, passcode)}
\DoxyCodeLine{67         self.assertTrue(db.exists.client\_exists(cid))}
\DoxyCodeLine{68 }

\end{DoxyCode}


References client.\+client.\+get\+\_\+email(), client.\+client.\+get\+\_\+name(), and client.\+client.\+get\+\_\+rand\+\_\+pass().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_aaf0c2f070e584254ab662f50502c3c7c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_a8799a5652477f425dfe731475590c36c}\label{classdatabase_1_1_server_database_test_a8799a5652477f425dfe731475590c36c}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_banking\_ids@{test\_banking\_ids}}
\index{test\_banking\_ids@{test\_banking\_ids}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_banking\_ids()}{test\_banking\_ids()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+banking\+\_\+ids (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 201 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{201     \textcolor{keyword}{def }test\_banking\_ids(self):}
\DoxyCodeLine{202         c1 = Client(db)}
\DoxyCodeLine{203         bank\_name=\mbox{\hyperlink{namespaceclient_1_1client_a833ad09ead45e7514e0b86ff1b03ca87}{get\_bank\_name}}()}
\DoxyCodeLine{204         branch\_number=\mbox{\hyperlink{namespaceclient_1_1client_a61a3e8937663f872f16be7e13103ca00}{get\_branch\_number}}()}
\DoxyCodeLine{205         account\_number=\mbox{\hyperlink{namespaceclient_1_1client_af8556d1f0e3ad687b312802456c5948b}{get\_account\_number}}()}
\DoxyCodeLine{206         name\_reference=\mbox{\hyperlink{namespaceclient_1_1client_aeb04cfa07acf73990acf1b636aac2830}{get\_name\_reference}}()}
\DoxyCodeLine{207         pg1=PaymentGate(bank\_name,branch\_number,account\_number, name\_reference)}
\DoxyCodeLine{208         c1.add\_pg(pg1)}
\DoxyCodeLine{209         c1.add\_bank\_account(c1.cid, pg1.balance, bank\_name, branch\_number, account\_number, name\_reference, c1.curr\_id)}
\DoxyCodeLine{210         bid1=db.gets.get\_banking\_id(c1.cid)}
\DoxyCodeLine{211         bank\_name=\mbox{\hyperlink{namespaceclient_1_1client_a833ad09ead45e7514e0b86ff1b03ca87}{get\_bank\_name}}()}
\DoxyCodeLine{212         branch\_number=\mbox{\hyperlink{namespaceclient_1_1client_a61a3e8937663f872f16be7e13103ca00}{get\_branch\_number}}()}
\DoxyCodeLine{213         account\_number=\mbox{\hyperlink{namespaceclient_1_1client_af8556d1f0e3ad687b312802456c5948b}{get\_account\_number}}()}
\DoxyCodeLine{214         name\_reference=\mbox{\hyperlink{namespaceclient_1_1client_aeb04cfa07acf73990acf1b636aac2830}{get\_name\_reference}}()}
\DoxyCodeLine{215         pg2=PaymentGate(bank\_name,branch\_number,account\_number, name\_reference)}
\DoxyCodeLine{216         c1.add\_pg(pg2)}
\DoxyCodeLine{217         c1.add\_bank\_account(c1.cid, pg2.balance, bank\_name, branch\_number, account\_number, name\_reference, c1.curr\_id)}
\DoxyCodeLine{218         bid2=db.gets.get\_banking\_id(c1.cid)}
\DoxyCodeLine{219         \textcolor{comment}{\#}}
\DoxyCodeLine{220         bids=db.gets.get\_banking\_ids(c1.cid)}
\DoxyCodeLine{221         print(\textcolor{stringliteral}{'bids: '}, bids)}
\DoxyCodeLine{222         self.assertEqual(bid1, bids[0])}
\DoxyCodeLine{223         \textcolor{comment}{\#note this will fail since bid1=bid2, because get\_banking\_id is limited by 1}}
\DoxyCodeLine{224         \textcolor{comment}{\#self.assertEqual(bid2, bids[1])}}

\end{DoxyCode}


References client.\+client.\+get\+\_\+account\+\_\+number(), client.\+client.\+get\+\_\+bank\+\_\+name(), client.\+client.\+get\+\_\+branch\+\_\+number(), and client.\+client.\+get\+\_\+name\+\_\+reference().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_a8799a5652477f425dfe731475590c36c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_a47192eae9d5d69403964cf09f31d0008}\label{classdatabase_1_1_server_database_test_a47192eae9d5d69403964cf09f31d0008}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_bid\_cid\_conversion@{test\_bid\_cid\_conversion}}
\index{test\_bid\_cid\_conversion@{test\_bid\_cid\_conversion}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_bid\_cid\_conversion()}{test\_bid\_cid\_conversion()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+bid\+\_\+cid\+\_\+conversion (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}bid_cid conversion testing

convert, and cross-reference from client id, to bank id
\end{DoxyVerb}
 

Definition at line 130 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{130     \textcolor{keyword}{def }test\_bid\_cid\_conversion(self):}
\DoxyCodeLine{131         \textcolor{stringliteral}{""" bid\_cid conversion testing}}
\DoxyCodeLine{132 \textcolor{stringliteral}{}}
\DoxyCodeLine{133 \textcolor{stringliteral}{        convert, and cross-\/reference from client id, to bank id}}
\DoxyCodeLine{134 \textcolor{stringliteral}{        """}}
\DoxyCodeLine{135         exchange=Currency(EUR)}
\DoxyCodeLine{136         rate=exchange.rate}
\DoxyCodeLine{137         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{138             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{139         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{140         passcode=\mbox{\hyperlink{namespaceclient_1_1client_acf449723d20f006b07f947ef4b68b225}{get\_rand\_pass}}()}
\DoxyCodeLine{141         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{142         credid=\mbox{\hyperlink{namespaceclient_1_1client_a1beb02f2a714df26019dc87d9c754e9c}{get\_credid}}(email)}
\DoxyCodeLine{143         banalce=\mbox{\hyperlink{namespaceclient_1_1client_a3ac8178d0ad128d3c42b9a4b13b30e01}{get\_balance}}()}
\DoxyCodeLine{144         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{145         name=\mbox{\hyperlink{namespaceclient_1_1client_acc7c8dc333a379c50d929a5d0be5045e}{get\_name}}()}
\DoxyCodeLine{146         db.inserts.add\_client(name, email, curr\_id)}
\DoxyCodeLine{147         cid=db.gets.get\_client\_id\_byemail(email)}
\DoxyCodeLine{148         db.inserts.register(cid, passcode, credid)}
\DoxyCodeLine{149         \textcolor{comment}{\#add\_bank\_addount}}
\DoxyCodeLine{150         bid=db.inserts.add\_bank\_account(cid, balance, bank\_name, branch\_number, account\_number, name\_reference, curr\_id)}
\DoxyCodeLine{151         cid\_eq=db.gets.get\_client\_id(bid)}
\DoxyCodeLine{152         bid\_eq=db.gets.get\_banking\_id(cid\_eq)}
\DoxyCodeLine{153         self.assertEqual(cid\_eq, cid)}
\DoxyCodeLine{154         self.assertEqual(bid\_eq, bid)}
\DoxyCodeLine{155 }

\end{DoxyCode}


References client.\+client.\+get\+\_\+balance(), client.\+client.\+get\+\_\+credid(), client.\+client.\+get\+\_\+email(), client.\+client.\+get\+\_\+name(), and client.\+client.\+get\+\_\+rand\+\_\+pass().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_a47192eae9d5d69403964cf09f31d0008_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_aff371e1da020a9f44f0c8d0968d1963c}\label{classdatabase_1_1_server_database_test_aff371e1da020a9f44f0c8d0968d1963c}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_client\_exists@{test\_client\_exists}}
\index{test\_client\_exists@{test\_client\_exists}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_client\_exists()}{test\_client\_exists()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+client\+\_\+exists (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 81 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{81     \textcolor{keyword}{def }test\_client\_exists(self):}
\DoxyCodeLine{82         exchange=Currency(EUR)}
\DoxyCodeLine{83         rate=exchange.rate}
\DoxyCodeLine{84         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{85             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{86         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{87         name=\mbox{\hyperlink{namespaceclient_1_1client_acc7c8dc333a379c50d929a5d0be5045e}{get\_name}}()}
\DoxyCodeLine{88         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{89         db.inserts.add\_client(name, email, curr\_id)}
\DoxyCodeLine{90         cid=db.gets.get\_client\_id\_byemail(email)}
\DoxyCodeLine{91         self.assertTrue(db.exists.client\_exists(cid))}

\end{DoxyCode}


References client.\+client.\+get\+\_\+email(), and client.\+client.\+get\+\_\+name().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_aff371e1da020a9f44f0c8d0968d1963c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_acaf50537a1442a19c8c907976342a6ef}\label{classdatabase_1_1_server_database_test_acaf50537a1442a19c8c907976342a6ef}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_credential\_exists@{test\_credential\_exists}}
\index{test\_credential\_exists@{test\_credential\_exists}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_credential\_exists()}{test\_credential\_exists()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+credential\+\_\+exists (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 92 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{92     \textcolor{keyword}{def }test\_credential\_exists(self):}
\DoxyCodeLine{93         exchange=Currency(EUR)}
\DoxyCodeLine{94         rate=exchange.rate}
\DoxyCodeLine{95         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{96             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{97         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{98         name=\mbox{\hyperlink{namespaceclient_1_1client_acc7c8dc333a379c50d929a5d0be5045e}{get\_name}}()}
\DoxyCodeLine{99         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{100         passcode=\mbox{\hyperlink{namespaceclient_1_1client_acf449723d20f006b07f947ef4b68b225}{get\_rand\_pass}}()}
\DoxyCodeLine{101         credid=\mbox{\hyperlink{namespaceclient_1_1client_a1beb02f2a714df26019dc87d9c754e9c}{get\_credid}}(email)}
\DoxyCodeLine{102         db.inserts.add\_client(name, email, curr\_id)}
\DoxyCodeLine{103         db.commit()}
\DoxyCodeLine{104         cid=db.gets.get\_client\_id\_byemail(email)}
\DoxyCodeLine{105         db.commit()}
\DoxyCodeLine{106         self.assertFalse(db.exists.credential\_exists(0))}
\DoxyCodeLine{107         db.inserts.register(cid, passcode, credid)}
\DoxyCodeLine{108         cid=db.gets.get\_client\_id\_byname(name, passcode)}
\DoxyCodeLine{109         db.commit()}
\DoxyCodeLine{110         self.assertTrue(db.exists.credential\_exists(cid))}
\DoxyCodeLine{111 }

\end{DoxyCode}


References client.\+client.\+get\+\_\+credid(), client.\+client.\+get\+\_\+email(), client.\+client.\+get\+\_\+name(), and client.\+client.\+get\+\_\+rand\+\_\+pass().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_acaf50537a1442a19c8c907976342a6ef_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_a10f7732f3ce5b85197d9b8bf97c3a214}\label{classdatabase_1_1_server_database_test_a10f7732f3ce5b85197d9b8bf97c3a214}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_credid2cid@{test\_credid2cid}}
\index{test\_credid2cid@{test\_credid2cid}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_credid2cid()}{test\_credid2cid()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+credid2cid (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 249 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{249     \textcolor{keyword}{def }test\_credid2cid(self):}
\DoxyCodeLine{250         exchange=Currency(EUR)}
\DoxyCodeLine{251         rate=exchange.rate}
\DoxyCodeLine{252         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{253             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{254         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{255         passcode=\mbox{\hyperlink{namespaceclient_1_1client_acf449723d20f006b07f947ef4b68b225}{get\_rand\_pass}}()}
\DoxyCodeLine{256         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{257         credid=\mbox{\hyperlink{namespaceclient_1_1client_a1beb02f2a714df26019dc87d9c754e9c}{get\_credid}}(email)}
\DoxyCodeLine{258         \textcolor{comment}{\# add new client}}
\DoxyCodeLine{259         db.inserts.add\_client(name, email, curr\_id)}
\DoxyCodeLine{260         cid=db.gets.get\_client\_id\_byemail(email)}
\DoxyCodeLine{261         \textcolor{comment}{\# register client's credentials}}
\DoxyCodeLine{262         db.inserts.register(cid, passcode, credid)}
\DoxyCodeLine{263         \textcolor{comment}{\# credid2cid conversion}}
\DoxyCodeLine{264         cid\_eq=db.gets.credid2cid(credid)}
\DoxyCodeLine{265         self.assertEqual(cid, cid\_eq)}
\DoxyCodeLine{266         credid\_eq=db.gets.cid2credid(cid)}
\DoxyCodeLine{267         self.assertEqual(credid, credid\_eq)}
\DoxyCodeLine{268 }

\end{DoxyCode}


References client.\+client.\+get\+\_\+credid(), client.\+client.\+get\+\_\+email(), and client.\+client.\+get\+\_\+rand\+\_\+pass().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_a10f7732f3ce5b85197d9b8bf97c3a214_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_a6c95000dc58dde7069a80a602952c188}\label{classdatabase_1_1_server_database_test_a6c95000dc58dde7069a80a602952c188}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_currency@{test\_currency}}
\index{test\_currency@{test\_currency}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_currency()}{test\_currency()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+currency (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 27 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{27     \textcolor{keyword}{def }test\_currency(self):}
\DoxyCodeLine{28         \textcolor{comment}{\#db.init()}}
\DoxyCodeLine{29         \textcolor{comment}{\#db.repeatable\_read()}}
\DoxyCodeLine{30         \textcolor{comment}{\#db.lock\_advisory(lock)}}
\DoxyCodeLine{31         exchange=Currency(EUR)}
\DoxyCodeLine{32         rate=exchange.rate}
\DoxyCodeLine{33         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{34             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{35         self.assertEqual(rate, 1)}
\DoxyCodeLine{36         \textcolor{comment}{\#db.rollback(lock)}}
\DoxyCodeLine{37 }

\end{DoxyCode}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_aa6e782c291a261aaf97f95bfb3009a36}\label{classdatabase_1_1_server_database_test_aa6e782c291a261aaf97f95bfb3009a36}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_password@{test\_password}}
\index{test\_password@{test\_password}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_password()}{test\_password()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+password (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 269 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{269     \textcolor{keyword}{def }test\_password(self):}
\DoxyCodeLine{270         exchange=Currency(EUR)}
\DoxyCodeLine{271         rate=exchange.rate}
\DoxyCodeLine{272         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{273             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{274         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{275         passcode=\mbox{\hyperlink{namespaceclient_1_1client_acf449723d20f006b07f947ef4b68b225}{get\_rand\_pass}}()}
\DoxyCodeLine{276         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{277         credid=\mbox{\hyperlink{namespaceclient_1_1client_a1beb02f2a714df26019dc87d9c754e9c}{get\_credid}}(email)}
\DoxyCodeLine{278         banalce=\mbox{\hyperlink{namespaceclient_1_1client_a3ac8178d0ad128d3c42b9a4b13b30e01}{get\_balance}}()}
\DoxyCodeLine{279         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{280         name=\mbox{\hyperlink{namespaceclient_1_1client_acc7c8dc333a379c50d929a5d0be5045e}{get\_name}}()}
\DoxyCodeLine{281         db.inserts.add\_client(name, email, curr\_id)}
\DoxyCodeLine{282         cid=db.gets.get\_client\_id\_byemail(email)}
\DoxyCodeLine{283         db.inserts.register(cid, passcode, credid)}
\DoxyCodeLine{284         \textcolor{comment}{\#add\_bank\_addount}}
\DoxyCodeLine{285         bid=db.inserts.add\_bank\_account(cid, balance, bank\_name, branch\_number, account\_number, name\_reference, curr\_id)}
\DoxyCodeLine{286         passcode\_eq=db.gets.get\_password(credid)}
\DoxyCodeLine{287         self.assertEqual(\mbox{\hyperlink{namespacecore_1_1utils_af6aaeb0ab3525abd04da39e8b580b811}{hash}}(passcode), passcode\_eq)}
\DoxyCodeLine{288 }

\end{DoxyCode}


References client.\+client.\+get\+\_\+balance(), client.\+client.\+get\+\_\+credid(), client.\+client.\+get\+\_\+email(), client.\+client.\+get\+\_\+name(), client.\+client.\+get\+\_\+rand\+\_\+pass(), and core.\+utils.\+hash().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_aa6e782c291a261aaf97f95bfb3009a36_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_ab7a182e9a784deb11b123340d9f04f42}\label{classdatabase_1_1_server_database_test_ab7a182e9a784deb11b123340d9f04f42}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_total\_balance@{test\_total\_balance}}
\index{test\_total\_balance@{test\_total\_balance}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_total\_balance()}{test\_total\_balance()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+total\+\_\+balance (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 178 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{178     \textcolor{keyword}{def }test\_total\_balance(self):}
\DoxyCodeLine{179         c1 = Client(db)}
\DoxyCodeLine{180         bank\_name=\mbox{\hyperlink{namespaceclient_1_1client_a833ad09ead45e7514e0b86ff1b03ca87}{get\_bank\_name}}()}
\DoxyCodeLine{181         branch\_number=\mbox{\hyperlink{namespaceclient_1_1client_a61a3e8937663f872f16be7e13103ca00}{get\_branch\_number}}()}
\DoxyCodeLine{182         account\_number=\mbox{\hyperlink{namespaceclient_1_1client_af8556d1f0e3ad687b312802456c5948b}{get\_account\_number}}()}
\DoxyCodeLine{183         name\_reference=\mbox{\hyperlink{namespaceclient_1_1client_aeb04cfa07acf73990acf1b636aac2830}{get\_name\_reference}}()}
\DoxyCodeLine{184         pg1=PaymentGate(bank\_name,branch\_number,account\_number, name\_reference)}
\DoxyCodeLine{185         c1.add\_pg(pg1)}
\DoxyCodeLine{186         c1.add\_bank\_account(c1.cid, pg1.balance, bank\_name, branch\_number, account\_number, name\_reference, c1.curr\_id)}
\DoxyCodeLine{187         bank\_name=\mbox{\hyperlink{namespaceclient_1_1client_a833ad09ead45e7514e0b86ff1b03ca87}{get\_bank\_name}}()}
\DoxyCodeLine{188         branch\_number=\mbox{\hyperlink{namespaceclient_1_1client_a61a3e8937663f872f16be7e13103ca00}{get\_branch\_number}}()}
\DoxyCodeLine{189         account\_number=\mbox{\hyperlink{namespaceclient_1_1client_af8556d1f0e3ad687b312802456c5948b}{get\_account\_number}}()}
\DoxyCodeLine{190         name\_reference=\mbox{\hyperlink{namespaceclient_1_1client_aeb04cfa07acf73990acf1b636aac2830}{get\_name\_reference}}()}
\DoxyCodeLine{191         pg2=PaymentGate(bank\_name,branch\_number,account\_number, name\_reference)}
\DoxyCodeLine{192         c1.add\_pg(pg2)}
\DoxyCodeLine{193         c1.add\_bank\_account(c1.cid, pg2.balance, bank\_name, branch\_number, account\_number, name\_reference, c1.curr\_id)}
\DoxyCodeLine{194         \textcolor{comment}{\#}}
\DoxyCodeLine{195         bank\_exists=db.exists.bank\_account\_bycid(c1.cid)}
\DoxyCodeLine{196         self.assertTrue(bank\_exists)}
\DoxyCodeLine{197         \textcolor{comment}{\#TODO get number of bank accounts associated with cid}}
\DoxyCodeLine{198         credid=db.gets.cid2credid(c1.cid)}
\DoxyCodeLine{199         total\_balance=db.gets.get\_total\_balance\_by\_credid(credid)[\textcolor{stringliteral}{'balance'}]}
\DoxyCodeLine{200         self.assertEqual(total\_balance, c1.total\_currency())}

\end{DoxyCode}


References client.\+client.\+get\+\_\+account\+\_\+number(), client.\+client.\+get\+\_\+bank\+\_\+name(), client.\+client.\+get\+\_\+branch\+\_\+number(), and client.\+client.\+get\+\_\+name\+\_\+reference().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_ab7a182e9a784deb11b123340d9f04f42_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_a41e3628ffcad40e12a039d790f52ad00}\label{classdatabase_1_1_server_database_test_a41e3628ffcad40e12a039d790f52ad00}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_transaction@{test\_transaction}}
\index{test\_transaction@{test\_transaction}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_transaction()}{test\_transaction()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+transaction (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}create two clients, client_1, client_2

procedure:
- client_1 sends 10k to client_2
- client_1 sends 20k to client_2
- client_2 sends 5k to client_1
- transaction sum 35k sent/received
\end{DoxyVerb}
 

Definition at line 289 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{289     \textcolor{keyword}{def }test\_transaction(self):}
\DoxyCodeLine{290         \textcolor{stringliteral}{""" create two clients, client\_1, client\_2}}
\DoxyCodeLine{291 \textcolor{stringliteral}{}}
\DoxyCodeLine{292 \textcolor{stringliteral}{        procedure:}}
\DoxyCodeLine{293 \textcolor{stringliteral}{        -\/ client\_1 sends 10k to client\_2}}
\DoxyCodeLine{294 \textcolor{stringliteral}{        -\/ client\_1 sends 20k to client\_2}}
\DoxyCodeLine{295 \textcolor{stringliteral}{        -\/ client\_2 sends 5k to client\_1}}
\DoxyCodeLine{296 \textcolor{stringliteral}{        -\/ transaction sum 35k sent/received}}
\DoxyCodeLine{297 \textcolor{stringliteral}{        """}}
\DoxyCodeLine{298         exchange=Currency(EUR)}
\DoxyCodeLine{299         rate=exchange.rate}
\DoxyCodeLine{300         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{301             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{302         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{303         c1\_name=\mbox{\hyperlink{namespaceclient_1_1client_acc7c8dc333a379c50d929a5d0be5045e}{get\_name}}()}
\DoxyCodeLine{304         c1\_email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{305         c1\_passcode=\mbox{\hyperlink{namespaceclient_1_1client_acf449723d20f006b07f947ef4b68b225}{get\_rand\_pass}}()}
\DoxyCodeLine{306         c1\_credid=\mbox{\hyperlink{namespaceclient_1_1client_a1beb02f2a714df26019dc87d9c754e9c}{get\_credid}}(c1\_email)}
\DoxyCodeLine{307         c1\_bank\_name=\mbox{\hyperlink{namespaceclient_1_1client_a833ad09ead45e7514e0b86ff1b03ca87}{get\_bank\_name}}()}
\DoxyCodeLine{308         c1\_branch\_number=\mbox{\hyperlink{namespaceclient_1_1client_a61a3e8937663f872f16be7e13103ca00}{get\_branch\_number}}()}
\DoxyCodeLine{309         c1\_account\_number=\mbox{\hyperlink{namespaceclient_1_1client_af8556d1f0e3ad687b312802456c5948b}{get\_account\_number}}()}
\DoxyCodeLine{310         c1\_name\_reference=\mbox{\hyperlink{namespaceclient_1_1client_aeb04cfa07acf73990acf1b636aac2830}{get\_name\_reference}}()}
\DoxyCodeLine{311         c1\_balance=\mbox{\hyperlink{namespaceclient_1_1client_a3ac8178d0ad128d3c42b9a4b13b30e01}{get\_balance}}()}
\DoxyCodeLine{312         db.inserts.add\_client(c1\_name, c1\_email, curr\_id)}
\DoxyCodeLine{313         db.commit()}
\DoxyCodeLine{314         c1\_cid=db.gets.get\_client\_id\_byemail(c1\_email)}
\DoxyCodeLine{315         db.inserts.register(c1\_cid, c1\_passcode, c1\_credid)}
\DoxyCodeLine{316         db.commit()}
\DoxyCodeLine{317         db.inserts.add\_bank\_account(c1\_cid, c1\_balance, c1\_bank\_name, c1\_branch\_number, c1\_account\_number, c1\_name\_reference, curr\_id)}
\DoxyCodeLine{318         db.commit()}
\DoxyCodeLine{319         \textcolor{comment}{\#}}
\DoxyCodeLine{320         c2\_name=\mbox{\hyperlink{namespaceclient_1_1client_acc7c8dc333a379c50d929a5d0be5045e}{get\_name}}()}
\DoxyCodeLine{321         c2\_email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{322         c2\_passcode=\mbox{\hyperlink{namespaceclient_1_1client_acf449723d20f006b07f947ef4b68b225}{get\_rand\_pass}}()}
\DoxyCodeLine{323         c2\_credid=\mbox{\hyperlink{namespaceclient_1_1client_a1beb02f2a714df26019dc87d9c754e9c}{get\_credid}}(c2\_email)}
\DoxyCodeLine{324         c2\_bank\_name=\mbox{\hyperlink{namespaceclient_1_1client_a833ad09ead45e7514e0b86ff1b03ca87}{get\_bank\_name}}()}
\DoxyCodeLine{325         c2\_branch\_number=\mbox{\hyperlink{namespaceclient_1_1client_a61a3e8937663f872f16be7e13103ca00}{get\_branch\_number}}()}
\DoxyCodeLine{326         c2\_account\_number=\mbox{\hyperlink{namespaceclient_1_1client_af8556d1f0e3ad687b312802456c5948b}{get\_account\_number}}()}
\DoxyCodeLine{327         c2\_name\_reference=\mbox{\hyperlink{namespaceclient_1_1client_aeb04cfa07acf73990acf1b636aac2830}{get\_name\_reference}}()}
\DoxyCodeLine{328         c2\_balance=\mbox{\hyperlink{namespaceclient_1_1client_a3ac8178d0ad128d3c42b9a4b13b30e01}{get\_balance}}()}
\DoxyCodeLine{329         db.inserts.add\_client(c2\_name, c2\_email, curr\_id)}
\DoxyCodeLine{330         db.commit()}
\DoxyCodeLine{331         c2\_cid=db.gets.get\_client\_id\_byemail(c2\_email)}
\DoxyCodeLine{332         db.inserts.register(c2\_cid, c2\_passcode, c2\_credid)}
\DoxyCodeLine{333         db.commit()}
\DoxyCodeLine{334         db.inserts.add\_bank\_account(c2\_cid, c2\_balance, c2\_bank\_name, c2\_branch\_number, c2\_account\_number, c2\_name\_reference, curr\_id)}
\DoxyCodeLine{335         db.commit()}
\DoxyCodeLine{336         \textcolor{comment}{\#}}
\DoxyCodeLine{337         }
\DoxyCodeLine{340         costs=[10000, 20000, 5000]}
\DoxyCodeLine{341         trx\_st\_0=datetime.datetime.now().strftime(TIMESTAMP\_FORMAT)}
\DoxyCodeLine{342         db.inserts.insert\_trx(c2\_credid, c1\_credid, costs[0], curr\_id, \textcolor{stringliteral}{'transaction1'})}
\DoxyCodeLine{343         db.commit()}
\DoxyCodeLine{344         trx\_st\_1=datetime.datetime.now().strftime(TIMESTAMP\_FORMAT)}
\DoxyCodeLine{345         db.inserts.insert\_trx(c2\_credid, c1\_credid, costs[1], curr\_id, \textcolor{stringliteral}{'transaction2'})}
\DoxyCodeLine{346         db.commit()}
\DoxyCodeLine{347         trx\_st\_2=datetime.datetime.now().strftime(TIMESTAMP\_FORMAT)}
\DoxyCodeLine{348         db.inserts.insert\_trx(c1\_credid, c2\_credid, costs[2], curr\_id, \textcolor{stringliteral}{'transaction3'})}
\DoxyCodeLine{349         db.commit()}
\DoxyCodeLine{350         trx\_st\_3=datetime.datetime.now().strftime(TIMESTAMP\_FORMAT)}
\DoxyCodeLine{351         }
\DoxyCodeLine{355         c1\_trx\_sum\_0=db.gets.get\_transactions\_sum(c1\_credid, trx\_st\_0)}
\DoxyCodeLine{356         db.commit()}
\DoxyCodeLine{357         self.assertEqual(sum(costs), c1\_trx\_sum\_0)}
\DoxyCodeLine{358         \textcolor{comment}{\#epoch 2}}
\DoxyCodeLine{359         c1\_trx\_sum\_1=db.gets.get\_transactions\_sum(c1\_credid, trx\_st\_1)}
\DoxyCodeLine{360         db.commit()}
\DoxyCodeLine{361         self.assertEqual(sum(costs[1:]), c1\_trx\_sum\_1)}
\DoxyCodeLine{362         \textcolor{comment}{\#epoch 3}}
\DoxyCodeLine{363         c1\_trx\_sum\_2=db.gets.get\_transactions\_sum(c1\_credid, trx\_st\_2)}
\DoxyCodeLine{364         db.commit()}
\DoxyCodeLine{365         self.assertEqual(sum(costs[2:]), c1\_trx\_sum\_2)}
\DoxyCodeLine{366         }

\end{DoxyCode}


References client.\+client.\+get\+\_\+account\+\_\+number(), client.\+client.\+get\+\_\+balance(), client.\+client.\+get\+\_\+bank\+\_\+name(), client.\+client.\+get\+\_\+branch\+\_\+number(), client.\+client.\+get\+\_\+credid(), client.\+client.\+get\+\_\+email(), client.\+client.\+get\+\_\+name(), client.\+client.\+get\+\_\+name\+\_\+reference(), and client.\+client.\+get\+\_\+rand\+\_\+pass().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_a41e3628ffcad40e12a039d790f52ad00_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdatabase_1_1_server_database_test_a949cf63fa0d447c810fa8263ca209bdd}\label{classdatabase_1_1_server_database_test_a949cf63fa0d447c810fa8263ca209bdd}} 
\index{database.ServerDatabaseTest@{database.ServerDatabaseTest}!test\_update\_balance@{test\_update\_balance}}
\index{test\_update\_balance@{test\_update\_balance}!database.ServerDatabaseTest@{database.ServerDatabaseTest}}
\doxysubsubsection{\texorpdfstring{test\_update\_balance()}{test\_update\_balance()}}
{\footnotesize\ttfamily def database.\+Server\+Database\+Test.\+test\+\_\+update\+\_\+balance (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 225 of file database.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{225     \textcolor{keyword}{def }test\_update\_balance(self):}
\DoxyCodeLine{226         exchange=Currency(EUR)}
\DoxyCodeLine{227         rate=exchange.rate}
\DoxyCodeLine{228         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db.exists.currency(EUR):}
\DoxyCodeLine{229             db.inserts.add\_currency(EUR, rate)}
\DoxyCodeLine{230         curr\_id=db.gets.get\_currency\_id(EUR)}
\DoxyCodeLine{231         passcode=\mbox{\hyperlink{namespaceclient_1_1client_acf449723d20f006b07f947ef4b68b225}{get\_rand\_pass}}()}
\DoxyCodeLine{232         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{233         credid=\mbox{\hyperlink{namespaceclient_1_1client_a1beb02f2a714df26019dc87d9c754e9c}{get\_credid}}(email)}
\DoxyCodeLine{234         balance=\mbox{\hyperlink{namespaceclient_1_1client_a3ac8178d0ad128d3c42b9a4b13b30e01}{get\_balance}}()}
\DoxyCodeLine{235         email=\mbox{\hyperlink{namespaceclient_1_1client_ae2714197b50fcca23197fe90e9d34559}{get\_email}}()}
\DoxyCodeLine{236         name=\mbox{\hyperlink{namespaceclient_1_1client_acc7c8dc333a379c50d929a5d0be5045e}{get\_name}}()}
\DoxyCodeLine{237         db.inserts.add\_client(name, email, curr\_id)}
\DoxyCodeLine{238         db.commit()}
\DoxyCodeLine{239         cid=db.gets.get\_client\_id\_byemail(email)}
\DoxyCodeLine{240         db.inserts.register(cid, passcode, credid)}
\DoxyCodeLine{241         db.commit()}
\DoxyCodeLine{242         \textcolor{comment}{\#add\_bank\_addount}}
\DoxyCodeLine{243         bid=db.inserts.add\_bank\_account(cid, balance, bank\_name, branch\_number, account\_number, name\_reference, curr\_id)}
\DoxyCodeLine{244         db.commit()}
\DoxyCodeLine{245         db.updates.update\_account(cid, 0)}
\DoxyCodeLine{246         balance\_cur=db.gets.get\_balance\_by\_cid(cid)[\textcolor{stringliteral}{'balance'}]}
\DoxyCodeLine{247         self.assertEqual(balance\_cur, 0)}

\end{DoxyCode}


References client.\+client.\+get\+\_\+balance(), client.\+client.\+get\+\_\+credid(), client.\+client.\+get\+\_\+email(), client.\+client.\+get\+\_\+name(), and client.\+client.\+get\+\_\+rand\+\_\+pass().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classdatabase_1_1_server_database_test_a949cf63fa0d447c810fa8263ca209bdd_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
core/tests/\mbox{\hyperlink{core_2tests_2database_8py}{database.\+py}}\end{DoxyCompactItemize}
