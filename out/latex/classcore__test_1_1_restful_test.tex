\hypertarget{classcore__test_1_1_restful_test}{}\doxysection{core\+\_\+test.\+Restful\+Test Class Reference}
\label{classcore__test_1_1_restful_test}\index{core\_test.RestfulTest@{core\_test.RestfulTest}}


Inheritance diagram for core\+\_\+test.\+Restful\+Test\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=199pt]{classcore__test_1_1_restful_test__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for core\+\_\+test.\+Restful\+Test\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=199pt]{classcore__test_1_1_restful_test__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_a86d662adf8facfd8e7176e6ed3123a5f}{set\+Up}} (self)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_a3cd7e5fa0aa388845c139cd288aeae0b}{test\+\_\+register}} (self)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_a7b1e371713055331dc29c284bbe6f2ce}{test\+\_\+get\+\_\+balance}} (self)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_a17b1baca9caaf76bcc84414c0bb59da9}{test\+\_\+add\+\_\+contact}} (self)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_ac683fedf14e5d174d8ba150f6bca830e}{test\+\_\+udapte\+\_\+ledger}} (self)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_aba1c519900a805af14f6d035239bed52}{test\+\_\+make\+\_\+transaction}} (self)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_ae0341b31405b2af6f16a1b68784c39d4}{add\+\_\+contact}} (self, email, name)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_a14acd49b3eb024e68c4c566b55af809d}{autotract}} (self)
\end{DoxyCompactItemize}
\doxysubsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcore__test_1_1_restful_test_a975f4637de57327f916c8b73d6605440}{app}}
\item 
\mbox{\hyperlink{classcore__test_1_1_restful_test_a1ec653702172428df9325542d1972a76}{uname}}
\item 
\mbox{\hyperlink{classcore__test_1_1_restful_test_a4dc72461b15b6f932432a4db513a866b}{pas}}
\item 
\mbox{\hyperlink{classcore__test_1_1_restful_test_a68a00911fb8751f2b8ebdb78a56844ee}{balance}}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_a0ea4c063d6e3099f59a0bf76c2ecb656}{\+\_\+\+\_\+auth}} (self)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_a56c035e1be970c9a8e1e2a7a6440b6aa}{\+\_\+\+\_\+get\+\_\+dict}} (self, ret)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_ae7133fc3077081756fbf115fdf6442cd}{\+\_\+\+\_\+rand\+\_\+alphanum}} (self, L=9)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_a863b4ebbca7fef996a6102bd5a807896}{\+\_\+\+\_\+register\+\_\+bank\+\_\+account}} (self, bank\+\_\+name=None, branch\+\_\+number=None, account\+\_\+number=None, name\+\_\+reference=None)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_ac1c4cf976428b1e2ae1a649e9bc2c6f1}{\+\_\+\+\_\+transact}} (self, credid, amount, currency=\textquotesingle{}U\+SD\textquotesingle{})
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_ace6cb0a82a02a0f9fd60a337e0954c03}{\+\_\+\+\_\+add\+\_\+trax}} (self, trans)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_af77f39208ddbb852215e729e0eaf2ffb}{\+\_\+\+\_\+update\+\_\+balance}} (self, \mbox{\hyperlink{classcore__test_1_1_restful_test_a68a00911fb8751f2b8ebdb78a56844ee}{balance}})
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_a5f0cce725eff677b2169a79b4bce6d05}{\+\_\+\+\_\+ledger\+\_\+timestamp}} (self)
\item 
def \mbox{\hyperlink{classcore__test_1_1_restful_test_a5afb6692ac056818a9bf6b66d429ed4c}{\+\_\+\+\_\+update\+\_\+ledger}} (self)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 170 of file core\+\_\+test.\+py.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_ace6cb0a82a02a0f9fd60a337e0954c03}\label{classcore__test_1_1_restful_test_ace6cb0a82a02a0f9fd60a337e0954c03}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!\_\_add\_trax@{\_\_add\_trax}}
\index{\_\_add\_trax@{\_\_add\_trax}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{\_\_add\_trax()}{\_\_add\_trax()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+add\+\_\+trax (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{trans }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 394 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{394     \textcolor{keyword}{def }\_\_add\_trax(self, trans):}
\DoxyCodeLine{395         trans=trans[\textcolor{stringliteral}{'transactions'}] \textcolor{comment}{\#TODO (res)}}
\DoxyCodeLine{396         self.db.init()}
\DoxyCodeLine{397         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{398             print(\textcolor{stringliteral}{"trans: "}, trans)}
\DoxyCodeLine{399             \textcolor{comment}{\#self.db.inserts.insert\_trx(trans["trx\_src"], trans['trx\_dest'], trans['trx\_gid'])}}
\DoxyCodeLine{400             self.db.inserts.insert\_trx(trans[\textcolor{stringliteral}{"trx\_src"}], trans[\textcolor{stringliteral}{'trx\_dest'}], trans[\textcolor{stringliteral}{'trx\_cost'}])}
\DoxyCodeLine{401             self.db.commit()}
\DoxyCodeLine{402         \textcolor{keywordflow}{except} psycopg2.DatabaseError \textcolor{keyword}{as} error:}
\DoxyCodeLine{403             self.db.rollback()}
\DoxyCodeLine{404         \textcolor{keywordflow}{finally}:}
\DoxyCodeLine{405             self.db.close()}

\end{DoxyCode}


References core\+\_\+test.\+Client.\+db, client.\+client.\+Client.\+db, and core.\+client.\+client.\+Client.\+db.



Referenced by core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+update\+\_\+ledger(), and core\+\_\+test.\+Restful\+Test.\+autotract().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcore__test_1_1_restful_test_ace6cb0a82a02a0f9fd60a337e0954c03_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_a0ea4c063d6e3099f59a0bf76c2ecb656}\label{classcore__test_1_1_restful_test_a0ea4c063d6e3099f59a0bf76c2ecb656}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!\_\_auth@{\_\_auth}}
\index{\_\_auth@{\_\_auth}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{\_\_auth()}{\_\_auth()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+auth (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 197 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{197     \textcolor{keyword}{def }\_\_auth(self):}
\DoxyCodeLine{198         self.assertFalse(self.uname==\textcolor{keywordtype}{None})}
\DoxyCodeLine{199         self.assertFalse(self.pas==\textcolor{keywordtype}{None})}
\DoxyCodeLine{200         valid\_cred = \(\backslash\)}
\DoxyCodeLine{201             base64.b64encode(bytes(\textcolor{stringliteral}{"\{\}:\{\}"}.\mbox{\hyperlink{namespacecore__test_a97c620d38442bfffbfa43ab3a8575e9c}{format}}(self.uname, \(\backslash\)}
\DoxyCodeLine{202                                                   self.pas), \(\backslash\)}
\DoxyCodeLine{203                                    \textcolor{stringliteral}{'utf-\/8'})).decode(\textcolor{stringliteral}{"utf-\/8"})}
\DoxyCodeLine{204         \textcolor{keywordflow}{return}  valid\_cred}
\DoxyCodeLine{205 }

\end{DoxyCode}


References core\+\_\+test.\+format, core.\+client.\+client.\+Client.\+pas, client.\+client.\+Client.\+pas, core\+\_\+test.\+Restful\+Test.\+pas, core.\+client.\+client.\+Client.\+uname, client.\+client.\+Client.\+uname, and core\+\_\+test.\+Restful\+Test.\+uname.

\mbox{\Hypertarget{classcore__test_1_1_restful_test_a56c035e1be970c9a8e1e2a7a6440b6aa}\label{classcore__test_1_1_restful_test_a56c035e1be970c9a8e1e2a7a6440b6aa}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!\_\_get\_dict@{\_\_get\_dict}}
\index{\_\_get\_dict@{\_\_get\_dict}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{\_\_get\_dict()}{\_\_get\_dict()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+get\+\_\+dict (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{ret }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 321 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{321     \textcolor{keyword}{def }\_\_get\_dict(self, ret):}
\DoxyCodeLine{322         res=ret.decode(\textcolor{stringliteral}{'utf8'})\textcolor{comment}{\#.replace('"', "'")}}
\DoxyCodeLine{323         \textcolor{keywordflow}{return} json.loads(res)}

\end{DoxyCode}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_a5f0cce725eff677b2169a79b4bce6d05}\label{classcore__test_1_1_restful_test_a5f0cce725eff677b2169a79b4bce6d05}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!\_\_ledger\_timestamp@{\_\_ledger\_timestamp}}
\index{\_\_ledger\_timestamp@{\_\_ledger\_timestamp}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{\_\_ledger\_timestamp()}{\_\_ledger\_timestamp()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+ledger\+\_\+timestamp (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 412 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{412     \textcolor{keyword}{def }\_\_ledger\_timestamp(self):}
\DoxyCodeLine{413         dt=\textcolor{keywordtype}{None}}
\DoxyCodeLine{414         self.db.init()}
\DoxyCodeLine{415         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{416             dt=self.db.gets.get\_last\_timestamp()}
\DoxyCodeLine{417             self.db.commmit()}
\DoxyCodeLine{418         \textcolor{keywordflow}{except} psycopg2.DatabaseError \textcolor{keyword}{as} error:}
\DoxyCodeLine{419             logger.critical(\textcolor{stringliteral}{"failed to retrieve ledger time stamp"})}
\DoxyCodeLine{420             self.db.rollback()}
\DoxyCodeLine{421         \textcolor{keywordflow}{finally}:}
\DoxyCodeLine{422             self.db.close()}
\DoxyCodeLine{423         print(\textcolor{stringliteral}{"timestamp: "}, dt)}
\DoxyCodeLine{424         \textcolor{keywordflow}{return} dt}

\end{DoxyCode}


References core\+\_\+test.\+Client.\+db, client.\+client.\+Client.\+db, and core.\+client.\+client.\+Client.\+db.



Referenced by core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+update\+\_\+ledger().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcore__test_1_1_restful_test_a5f0cce725eff677b2169a79b4bce6d05_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_ae7133fc3077081756fbf115fdf6442cd}\label{classcore__test_1_1_restful_test_ae7133fc3077081756fbf115fdf6442cd}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!\_\_rand\_alphanum@{\_\_rand\_alphanum}}
\index{\_\_rand\_alphanum@{\_\_rand\_alphanum}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{\_\_rand\_alphanum()}{\_\_rand\_alphanum()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+rand\+\_\+alphanum (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{L = {\ttfamily 9} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 324 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{324     \textcolor{keyword}{def }\_\_rand\_alphanum(self, L=9):}
\DoxyCodeLine{325         passcode=\textcolor{stringliteral}{''}.join(rand.choice(string.ascii\_uppercase+\(\backslash\)}
\DoxyCodeLine{326                                      string.ascii\_lowercase+\(\backslash\)}
\DoxyCodeLine{327                                      string.digits)\(\backslash\)}
\DoxyCodeLine{328                          \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(L))}
\DoxyCodeLine{329 }

\end{DoxyCode}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_a863b4ebbca7fef996a6102bd5a807896}\label{classcore__test_1_1_restful_test_a863b4ebbca7fef996a6102bd5a807896}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!\_\_register\_bank\_account@{\_\_register\_bank\_account}}
\index{\_\_register\_bank\_account@{\_\_register\_bank\_account}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{\_\_register\_bank\_account()}{\_\_register\_bank\_account()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+register\+\_\+bank\+\_\+account (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{bank\+\_\+name = {\ttfamily None},  }\item[{}]{branch\+\_\+number = {\ttfamily None},  }\item[{}]{account\+\_\+number = {\ttfamily None},  }\item[{}]{name\+\_\+reference = {\ttfamily None} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\begin{DoxyVerb}check if this client has credentials, if not register\end{DoxyVerb}
 

Definition at line 330 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{330     \textcolor{keyword}{def }\_\_register\_bank\_account(self, bank\_name=None, branch\_number=None, account\_number=None, name\_reference=None):}
\DoxyCodeLine{331         \textcolor{stringliteral}{""" check if this client has credentials, if not register}}
\DoxyCodeLine{332 \textcolor{stringliteral}{}}
\DoxyCodeLine{333 \textcolor{stringliteral}{        """}}
\DoxyCodeLine{334         \textcolor{comment}{\#check if user have credentials}}
\DoxyCodeLine{335         BRANCH\_NUM\_MAX=100}
\DoxyCodeLine{336         ACCOUNT\_NUMBER\_MAX=10000000000}
\DoxyCodeLine{337         self.db.init()}
\DoxyCodeLine{338         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{339             \textcolor{comment}{\#register user}}
\DoxyCodeLine{340             bank\_name = self.faker.\mbox{\hyperlink{namespacesetup_ab3a7a0638d76a01367c5bc3cc699447f}{name}}() \textcolor{keywordflow}{if} bank\_name==\textcolor{keywordtype}{None} \textcolor{keywordflow}{else} bank\_name}
\DoxyCodeLine{341             branch\_number = random.random()*BRANCH\_NUM\_MAX \textcolor{keywordflow}{if} branch\_number==\textcolor{keywordtype}{None} \textcolor{keywordflow}{else} branch\_number}
\DoxyCodeLine{342             account\_number= random.random()*ACCOUNT\_NUMBER\_MAX \textcolor{keywordflow}{if} account\_number==\textcolor{keywordtype}{None} \textcolor{keywordflow}{else} account\_number}
\DoxyCodeLine{343             name\_reference= self.faker.\mbox{\hyperlink{namespacesetup_ab3a7a0638d76a01367c5bc3cc699447f}{name}}() \textcolor{keywordflow}{if} name\_reference==\textcolor{keywordtype}{None} \textcolor{keywordflow}{else} anem\_reference}
\DoxyCodeLine{344             payload=\{\textcolor{stringliteral}{'bank\_name'}:bank\_name,}
\DoxyCodeLine{345                      \textcolor{stringliteral}{'branch\_number'}:branch\_number,}
\DoxyCodeLine{346                      \textcolor{stringliteral}{'account\_number'}:account\_number,}
\DoxyCodeLine{347                      \textcolor{stringliteral}{'name\_reference'}:name\_reference\}}
\DoxyCodeLine{348             res=requests.post(ADD\_BANK\_ACCOUNT\_URL, \(\backslash\)}
\DoxyCodeLine{349                               data=json.dumps(payload))}
\DoxyCodeLine{350             response = json.loads(res.text)}
\DoxyCodeLine{351             scode=res.status\_code}
\DoxyCodeLine{352             \textcolor{comment}{\#TODO support multiple accounts}}
\DoxyCodeLine{353             \textcolor{comment}{\#create local client table for banking,}}
\DoxyCodeLine{354             \textcolor{comment}{\#to insert balance, or each account.}}
\DoxyCodeLine{355             self.balance=response[\textcolor{stringliteral}{'balance'}]}
\DoxyCodeLine{356             self.db.commit()}
\DoxyCodeLine{357 }
\DoxyCodeLine{358         \textcolor{keywordflow}{except} psycopg2.DatabaseError \textcolor{keyword}{as} error:}
\DoxyCodeLine{359             logger.critical(\textcolor{stringliteral}{"bank account registration failed!, error: "}+ str(error))}
\DoxyCodeLine{360             print(\textcolor{stringliteral}{"bank account register failed!, error: "}+str(error))}
\DoxyCodeLine{361             self.db.rollback()}
\DoxyCodeLine{362         \textcolor{keywordflow}{finally}:}
\DoxyCodeLine{363             self.db.close()}

\end{DoxyCode}


References core\+\_\+test.\+Client.\+db, core.\+client.\+client.\+Client.\+db, client.\+client.\+Client.\+db, core\+\_\+test.\+Client.\+faker, client.\+client.\+Client.\+faker, core.\+client.\+client.\+Client.\+faker, and setup.\+name.

\mbox{\Hypertarget{classcore__test_1_1_restful_test_ac1c4cf976428b1e2ae1a649e9bc2c6f1}\label{classcore__test_1_1_restful_test_ac1c4cf976428b1e2ae1a649e9bc2c6f1}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!\_\_transact@{\_\_transact}}
\index{\_\_transact@{\_\_transact}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{\_\_transact()}{\_\_transact()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+transact (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{credid,  }\item[{}]{amount,  }\item[{}]{currency = {\ttfamily \textquotesingle{}USD\textquotesingle{}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 386 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{386     \textcolor{keyword}{def }\_\_transact(self, credid, amount, currency='USD'):}
\DoxyCodeLine{387         pur\_item = \{\textcolor{stringliteral}{'credid'}: credid,}
\DoxyCodeLine{388                     \textcolor{stringliteral}{'amount'}:amount,}
\DoxyCodeLine{389                     \textcolor{stringliteral}{'currency'}: \textcolor{stringliteral}{'USD'}\}}
\DoxyCodeLine{390         ret=requests.post(PURCHASE\_URL, data=json.dumps(pur\_item), auth=self.auth())}
\DoxyCodeLine{391         response=ret.text\textcolor{comment}{\#ret.text.decode('utf8')\#.replace('"', "'")}}
\DoxyCodeLine{392         trx=json.loads(response)}
\DoxyCodeLine{393         \textcolor{keywordflow}{return} trx}

\end{DoxyCode}


References client.\+client.\+Client.\+auth(), and core.\+client.\+client.\+Client.\+auth().



Referenced by core\+\_\+test.\+Restful\+Test.\+autotract().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcore__test_1_1_restful_test_ac1c4cf976428b1e2ae1a649e9bc2c6f1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcore__test_1_1_restful_test_ac1c4cf976428b1e2ae1a649e9bc2c6f1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_af77f39208ddbb852215e729e0eaf2ffb}\label{classcore__test_1_1_restful_test_af77f39208ddbb852215e729e0eaf2ffb}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!\_\_update\_balance@{\_\_update\_balance}}
\index{\_\_update\_balance@{\_\_update\_balance}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{\_\_update\_balance()}{\_\_update\_balance()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+update\+\_\+balance (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{balance }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 406 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{406     \textcolor{keyword}{def }\_\_update\_balance(self, balance):}
\DoxyCodeLine{407         \textcolor{comment}{\#TODO fix}}
\DoxyCodeLine{408         \textcolor{keywordflow}{if} \mbox{\hyperlink{namespaceclient_1_1client_ad9d896f7f31b547712ee032a1f5cb8c9}{type}}(balance)==dict:}
\DoxyCodeLine{409             self.balance=balance[\textcolor{stringliteral}{'balance'}]}
\DoxyCodeLine{410             \textcolor{keywordflow}{return}}
\DoxyCodeLine{411         self.balance=balance}

\end{DoxyCode}


References core\+\_\+test.\+Client.\+balance, client.\+client.\+Client.\+balance, core.\+client.\+client.\+Client.\+balance, core\+\_\+test.\+Restful\+Test.\+balance, and client.\+client.\+type.



Referenced by core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+update\+\_\+ledger(), and core\+\_\+test.\+Restful\+Test.\+autotract().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcore__test_1_1_restful_test_af77f39208ddbb852215e729e0eaf2ffb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_a5afb6692ac056818a9bf6b66d429ed4c}\label{classcore__test_1_1_restful_test_a5afb6692ac056818a9bf6b66d429ed4c}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!\_\_update\_ledger@{\_\_update\_ledger}}
\index{\_\_update\_ledger@{\_\_update\_ledger}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{\_\_update\_ledger()}{\_\_update\_ledger()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+update\+\_\+ledger (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\begin{DoxyVerb}update ledger with sold goods, and update balance
\end{DoxyVerb}
 

Definition at line 425 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{425     \textcolor{keyword}{def }\_\_update\_ledger(self):}
\DoxyCodeLine{426         \textcolor{stringliteral}{"""update ledger with sold goods, and update balance}}
\DoxyCodeLine{427 \textcolor{stringliteral}{        """}}
\DoxyCodeLine{428         ret=requests.post(LEDGER\_URL, data=json.dumps(\{\textcolor{stringliteral}{'trx\_dt'}: self.\_\_ledger\_timestamp()\}), auth=self.auth())}
\DoxyCodeLine{429         \textcolor{comment}{\#TODO always process the status code!}}
\DoxyCodeLine{430         res = json.loads(ret.text) \textcolor{comment}{\#self.\_\_get\_dict(ret.text)}}
\DoxyCodeLine{431         print(\textcolor{stringliteral}{"new balance: "}, res[\textcolor{stringliteral}{'balance'}])}
\DoxyCodeLine{432         self.\_\_update\_balance(res[\textcolor{stringliteral}{'balance'}])}
\DoxyCodeLine{433         self.db.init();}
\DoxyCodeLine{434         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{435             new\_trxs=res[\textcolor{stringliteral}{'transactions'}]}
\DoxyCodeLine{436             print(\textcolor{stringliteral}{"trxs: "}, new\_trxs)}
\DoxyCodeLine{437             transactions=pd.read\_json(new\_trxs)}
\DoxyCodeLine{438             print(\textcolor{stringliteral}{"trxs pandas: "}, transactions)}
\DoxyCodeLine{439             \textcolor{keywordflow}{if} len(transactions)==0:}
\DoxyCodeLine{440                 \textcolor{keywordflow}{raise} Exception(\textcolor{stringliteral}{"empty transaction!"})}
\DoxyCodeLine{441             \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(transactions)-\/1):}
\DoxyCodeLine{442                 self.\_\_add\_trax(transactions.iloc[i])}
\DoxyCodeLine{443         \textcolor{keywordflow}{except} psycopg2.DatabaseError \textcolor{keyword}{as} error:}
\DoxyCodeLine{444             self.db.rollback()}
\DoxyCodeLine{445         \textcolor{keywordflow}{except}:}
\DoxyCodeLine{446             self.db.rollback()}
\DoxyCodeLine{447         \textcolor{keywordflow}{finally}:}
\DoxyCodeLine{448             self.db.close()}

\end{DoxyCode}


References client.\+client.\+Client.\+\_\+\+\_\+add\+\_\+trax(), core.\+client.\+client.\+Client.\+\_\+\+\_\+add\+\_\+trax(), core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+add\+\_\+trax(), core.\+client.\+client.\+Client.\+\_\+\+\_\+ledger\+\_\+timestamp(), client.\+client.\+Client.\+\_\+\+\_\+ledger\+\_\+timestamp(), core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+ledger\+\_\+timestamp(), client.\+client.\+Client.\+\_\+\+\_\+update\+\_\+balance(), core.\+client.\+client.\+Client.\+\_\+\+\_\+update\+\_\+balance(), core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+update\+\_\+balance(), client.\+client.\+Client.\+auth(), core.\+client.\+client.\+Client.\+auth(), core\+\_\+test.\+Client.\+db, core.\+client.\+client.\+Client.\+db, and client.\+client.\+Client.\+db.



Referenced by core\+\_\+test.\+Restful\+Test.\+autotract().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcore__test_1_1_restful_test_a5afb6692ac056818a9bf6b66d429ed4c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcore__test_1_1_restful_test_a5afb6692ac056818a9bf6b66d429ed4c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_ae0341b31405b2af6f16a1b68784c39d4}\label{classcore__test_1_1_restful_test_ae0341b31405b2af6f16a1b68784c39d4}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!add\_contact@{add\_contact}}
\index{add\_contact@{add\_contact}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{add\_contact()}{add\_contact()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+add\+\_\+contact (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{email,  }\item[{}]{name }\end{DoxyParamCaption})}

\begin{DoxyVerb}Fetch the client with given email/name

@param email: contact email
@param name: contact name
\end{DoxyVerb}
 

Definition at line 364 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{364     \textcolor{keyword}{def }\mbox{\hyperlink{namespaceserver_1_1server_a9543f6165e186fa9fcfdcaae8c3414fd}{add\_contact}}(self, email, name):}
\DoxyCodeLine{365         \textcolor{stringliteral}{"""Fetch the client with given email/name}}
\DoxyCodeLine{366 \textcolor{stringliteral}{}}
\DoxyCodeLine{367 \textcolor{stringliteral}{        @param email: contact email}}
\DoxyCodeLine{368 \textcolor{stringliteral}{        @param name: contact name}}
\DoxyCodeLine{369 \textcolor{stringliteral}{        """}}
\DoxyCodeLine{370         \textcolor{comment}{\#get client credential id}}
\DoxyCodeLine{371         cred=\{\textcolor{stringliteral}{'email'}: email\}}
\DoxyCodeLine{372         ret=requests.post(CONTACTS\_URL, \(\backslash\)}
\DoxyCodeLine{373                           data=json.dumps(cred), \(\backslash\)}
\DoxyCodeLine{374                           auth=self.auth())}
\DoxyCodeLine{375         respose=ret.text\textcolor{comment}{\#.decode('utf8')\#.replace('"', "'")}}
\DoxyCodeLine{376         res = json.laods(response)}
\DoxyCodeLine{377         credid = res[\textcolor{stringliteral}{'credid'}]}
\DoxyCodeLine{378         self.db.init()}
\DoxyCodeLine{379         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{380             self.db.inserts.insert\_contact(email, name, credid)}
\DoxyCodeLine{381             self.db.commit()}
\DoxyCodeLine{382         \textcolor{keywordflow}{except} psycopg2.DatabaseError \textcolor{keyword}{as} error:}
\DoxyCodeLine{383             self.db.rollback()}
\DoxyCodeLine{384         \textcolor{keywordflow}{finally}:}
\DoxyCodeLine{385             self.db.close()}

\end{DoxyCode}


References client.\+client.\+Client.\+auth(), core.\+client.\+client.\+Client.\+auth(), core\+\_\+test.\+Client.\+db, client.\+client.\+Client.\+db, and core.\+client.\+client.\+Client.\+db.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcore__test_1_1_restful_test_ae0341b31405b2af6f16a1b68784c39d4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_a14acd49b3eb024e68c4c566b55af809d}\label{classcore__test_1_1_restful_test_a14acd49b3eb024e68c4c566b55af809d}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!autotract@{autotract}}
\index{autotract@{autotract}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{autotract()}{autotract()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+autotract (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Stochastic fake auto-tracting

trade with randomly with maintained contacts with 0.5 probability for each, and 0.1 probability for all contacts goods, update balance, and goods for each contact
\end{DoxyVerb}
 

Definition at line 449 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{449     \textcolor{keyword}{def }autotract(self):}
\DoxyCodeLine{450         \textcolor{stringliteral}{"""Stochastic fake auto-\/tracting}}
\DoxyCodeLine{451 \textcolor{stringliteral}{}}
\DoxyCodeLine{452 \textcolor{stringliteral}{        trade with randomly with maintained contacts with 0.5 probability for each, and 0.1 probability for all contacts goods, update balance, and goods for each contact}}
\DoxyCodeLine{453 \textcolor{stringliteral}{        """}}
\DoxyCodeLine{454         \textcolor{comment}{\#update balance, and add new transactions}}
\DoxyCodeLine{455         MAX\_TRACT\_BALANCE=100000}
\DoxyCodeLine{456         self.\_\_update\_ledger()}
\DoxyCodeLine{457         contacts\_df=db.gets.get\_all\_contacts()}
\DoxyCodeLine{458         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(contacts\_df-\/1)):}
\DoxyCodeLine{459             contact\_credid=contacts\_df.iloc[i][\textcolor{stringliteral}{'contact\_id'}]}
\DoxyCodeLine{460             contact\_name=contacts\_df.iloc[i][\textcolor{stringliteral}{'contact\_name'}]}
\DoxyCodeLine{461             contact\_email=contacts\_df.iloc[i][\textcolor{stringliteral}{'contact\_email'}]}
\DoxyCodeLine{462             amount=random.random()*MAX\_TRACT\_BALANCE}
\DoxyCodeLine{463             logger.info(\textcolor{stringliteral}{"making transaction with \{\}[\{\}] by amount: \{\}"}.\(\backslash\)}
\DoxyCodeLine{464                         \mbox{\hyperlink{namespacecore__test_a97c620d38442bfffbfa43ab3a8575e9c}{format}}(contact\_name, contact\_email, amount))}
\DoxyCodeLine{465             \textcolor{comment}{\#if random.random()> STOCHASTIC\_TRADE\_THRESHOLD and good.cost <= self.balance:}}
\DoxyCodeLine{466             \textcolor{comment}{\#TODO (fix) doesn't work!}}
\DoxyCodeLine{467             \textcolor{comment}{\#trx=self.\_\_purchase(good.gid)}}
\DoxyCodeLine{468             trx=self.\_\_transact(contact\_credid, amount)}
\DoxyCodeLine{469             self.\_\_add\_trax(trx)}
\DoxyCodeLine{470             self.\_\_update\_balance(trx)}
\DoxyCodeLine{471 }

\end{DoxyCode}


References client.\+client.\+Client.\+\_\+\+\_\+add\+\_\+trax(), core.\+client.\+client.\+Client.\+\_\+\+\_\+add\+\_\+trax(), core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+add\+\_\+trax(), client.\+client.\+Client.\+\_\+\+\_\+transact(), core.\+client.\+client.\+Client.\+\_\+\+\_\+transact(), core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+transact(), client.\+client.\+Client.\+\_\+\+\_\+update\+\_\+balance(), core.\+client.\+client.\+Client.\+\_\+\+\_\+update\+\_\+balance(), core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+update\+\_\+balance(), client.\+client.\+Client.\+\_\+\+\_\+update\+\_\+ledger(), core.\+client.\+client.\+Client.\+\_\+\+\_\+update\+\_\+ledger(), core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+update\+\_\+ledger(), and core\+\_\+test.\+format.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcore__test_1_1_restful_test_a14acd49b3eb024e68c4c566b55af809d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_a86d662adf8facfd8e7176e6ed3123a5f}\label{classcore__test_1_1_restful_test_a86d662adf8facfd8e7176e6ed3123a5f}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!setUp@{setUp}}
\index{setUp@{setUp}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{setUp()}{setUp()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+set\+Up (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 171 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{171     \textcolor{keyword}{def }setUp(self):}
\DoxyCodeLine{172         self.app=app.test\_client()}
\DoxyCodeLine{173         self.uname=\textcolor{keywordtype}{None}}
\DoxyCodeLine{174         self.pas=\textcolor{keywordtype}{None}}
\DoxyCodeLine{175         logger.info(\textcolor{stringliteral}{"client initialized"})}

\end{DoxyCode}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_a17b1baca9caaf76bcc84414c0bb59da9}\label{classcore__test_1_1_restful_test_a17b1baca9caaf76bcc84414c0bb59da9}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!test\_add\_contact@{test\_add\_contact}}
\index{test\_add\_contact@{test\_add\_contact}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{test\_add\_contact()}{test\_add\_contact()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+test\+\_\+add\+\_\+contact (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 213 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{213     \textcolor{keyword}{def }test\_add\_contact(self):}
\DoxyCodeLine{214         src = Client(self.app)}
\DoxyCodeLine{215         dest = Client(self.app)}
\DoxyCodeLine{216         credid=src.add\_contact(dest.email, dest.name)}
\DoxyCodeLine{217         self.assertEqual(credid, dest.credid)}

\end{DoxyCode}


References core\+\_\+test.\+Client.\+app, and core\+\_\+test.\+Restful\+Test.\+app.

\mbox{\Hypertarget{classcore__test_1_1_restful_test_a7b1e371713055331dc29c284bbe6f2ce}\label{classcore__test_1_1_restful_test_a7b1e371713055331dc29c284bbe6f2ce}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!test\_get\_balance@{test\_get\_balance}}
\index{test\_get\_balance@{test\_get\_balance}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{test\_get\_balance()}{test\_get\_balance()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+test\+\_\+get\+\_\+balance (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 206 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{206     \textcolor{keyword}{def }test\_get\_balance(self):}
\DoxyCodeLine{207         src = Client(self.app)}
\DoxyCodeLine{208         balance=src.get\_balance()}
\DoxyCodeLine{209         print(\textcolor{stringliteral}{'|-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/>balance: '}, balance)}
\DoxyCodeLine{210         self.assertEqual(balance[0], src.balance)}
\DoxyCodeLine{211         self.assertEqual(\mbox{\hyperlink{namespacecore_1_1utils_ab7cdc3ae00c853b06466311cb4a43e65}{unwrap\_cur}}(balance[1]), \mbox{\hyperlink{namespacecore_1_1utils_ab7cdc3ae00c853b06466311cb4a43e65}{unwrap\_cur}}(src.currency\_pref))}
\DoxyCodeLine{212 }

\end{DoxyCode}


References core\+\_\+test.\+Client.\+app, core\+\_\+test.\+Restful\+Test.\+app, and core.\+utils.\+unwrap\+\_\+cur().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcore__test_1_1_restful_test_a7b1e371713055331dc29c284bbe6f2ce_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_aba1c519900a805af14f6d035239bed52}\label{classcore__test_1_1_restful_test_aba1c519900a805af14f6d035239bed52}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!test\_make\_transaction@{test\_make\_transaction}}
\index{test\_make\_transaction@{test\_make\_transaction}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{test\_make\_transaction()}{test\_make\_transaction()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+test\+\_\+make\+\_\+transaction (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 220 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{220     \textcolor{keyword}{def }test\_make\_transaction(self):}
\DoxyCodeLine{221         src = Client(self.app)}
\DoxyCodeLine{222         dest = Client(self.app)}
\DoxyCodeLine{223         amount=\mbox{\hyperlink{namespacecore__test_a4b1e9e63ced2616f8c2ec4a6893d353c}{get\_amount}}()}
\DoxyCodeLine{224         old\_balance=src.balance}
\DoxyCodeLine{225         new\_balance, trxs = src.make\_transaction(dest.email, dest.name, amount)}
\DoxyCodeLine{226         print(\textcolor{stringliteral}{"transaction made: "}, trxs)}
\DoxyCodeLine{227         self.assertEqual(new\_balance, old\_balance-\/(amount+FEE))}
\DoxyCodeLine{228 }

\end{DoxyCode}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_a3cd7e5fa0aa388845c139cd288aeae0b}\label{classcore__test_1_1_restful_test_a3cd7e5fa0aa388845c139cd288aeae0b}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!test\_register@{test\_register}}
\index{test\_register@{test\_register}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{test\_register()}{test\_register()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+test\+\_\+register (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}check if this client has credentials, if not register\end{DoxyVerb}
 

Definition at line 176 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{176     \textcolor{keyword}{def }test\_register(self):}
\DoxyCodeLine{177         \textcolor{stringliteral}{""" check if this client has credentials, if not register}}
\DoxyCodeLine{178 \textcolor{stringliteral}{}}
\DoxyCodeLine{179 \textcolor{stringliteral}{        """}}
\DoxyCodeLine{180         name = \mbox{\hyperlink{namespacecore__test_aa7ce5d11a5f3c59bdfb5c76b6e963d80}{get\_name}}()}
\DoxyCodeLine{181         email = \mbox{\hyperlink{namespacecore__test_a4ddada31ec653b462e8043ef152380f6}{get\_email}}()}
\DoxyCodeLine{182         passcode = \mbox{\hyperlink{namespacecore__test_a6addcfcb8b4aca4adab09b90870508c4}{get\_rand\_pass}}()}
\DoxyCodeLine{183         payload=\{\textcolor{stringliteral}{'name'}:name,\(\backslash\)}
\DoxyCodeLine{184                  \textcolor{stringliteral}{'email'}: email,\(\backslash\)}
\DoxyCodeLine{185                  \textcolor{stringliteral}{'passcode'}: passcode\}}
\DoxyCodeLine{186         res=self.app.post(REGISTER, data=json.dumps(payload))}
\DoxyCodeLine{187         response = res.json \textcolor{comment}{\#json.loads(res.json)}}
\DoxyCodeLine{188         credid=response[\textcolor{stringliteral}{'cred\_id'}]}
\DoxyCodeLine{189         \textcolor{comment}{\#cid set to 0, since it never matters in the client side}}
\DoxyCodeLine{190         \textcolor{comment}{\#self.db.inserts.register(0, passcode, credid)}}
\DoxyCodeLine{191         logger.debug(\textcolor{stringliteral}{"user registered with credentials username: \{\}, email: \{\}, passcode: \{\}"}.\mbox{\hyperlink{namespacecore__test_a97c620d38442bfffbfa43ab3a8575e9c}{format}}(name, email, passcode))}
\DoxyCodeLine{192         self.assertTrue(\mbox{\hyperlink{namespaceclient_1_1client_ad9d896f7f31b547712ee032a1f5cb8c9}{type}}(credid)==int)}
\DoxyCodeLine{193         self.assertEqual(res.status\_code, 201)}
\DoxyCodeLine{194         self.uname=email}
\DoxyCodeLine{195         self.pas=passcode}

\end{DoxyCode}


References core\+\_\+test.\+Client.\+app, core\+\_\+test.\+Restful\+Test.\+app, core\+\_\+test.\+format, core\+\_\+test.\+get\+\_\+email(), core\+\_\+test.\+get\+\_\+name(), core\+\_\+test.\+get\+\_\+rand\+\_\+pass(), client.\+client.\+Client.\+pas, core.\+client.\+client.\+Client.\+pas, core\+\_\+test.\+Restful\+Test.\+pas, client.\+client.\+type, client.\+client.\+Client.\+uname, core.\+client.\+client.\+Client.\+uname, and core\+\_\+test.\+Restful\+Test.\+uname.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcore__test_1_1_restful_test_a3cd7e5fa0aa388845c139cd288aeae0b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_ac683fedf14e5d174d8ba150f6bca830e}\label{classcore__test_1_1_restful_test_ac683fedf14e5d174d8ba150f6bca830e}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!test\_udapte\_ledger@{test\_udapte\_ledger}}
\index{test\_udapte\_ledger@{test\_udapte\_ledger}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{test\_udapte\_ledger()}{test\_udapte\_ledger()}}
{\footnotesize\ttfamily def core\+\_\+test.\+Restful\+Test.\+test\+\_\+udapte\+\_\+ledger (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 218 of file core\+\_\+test.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{218     \textcolor{keyword}{def }test\_udapte\_ledger(self):}
\DoxyCodeLine{219         \textcolor{keywordflow}{pass}}

\end{DoxyCode}


\doxysubsection{Field Documentation}
\mbox{\Hypertarget{classcore__test_1_1_restful_test_a975f4637de57327f916c8b73d6605440}\label{classcore__test_1_1_restful_test_a975f4637de57327f916c8b73d6605440}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!app@{app}}
\index{app@{app}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{app}{app}}
{\footnotesize\ttfamily core\+\_\+test.\+Restful\+Test.\+app}



Definition at line 172 of file core\+\_\+test.\+py.



Referenced by core\+\_\+test.\+Restful\+Test.\+test\+\_\+add\+\_\+contact(), core\+\_\+test.\+Restful\+Test.\+test\+\_\+get\+\_\+balance(), and core\+\_\+test.\+Restful\+Test.\+test\+\_\+register().

\mbox{\Hypertarget{classcore__test_1_1_restful_test_a68a00911fb8751f2b8ebdb78a56844ee}\label{classcore__test_1_1_restful_test_a68a00911fb8751f2b8ebdb78a56844ee}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!balance@{balance}}
\index{balance@{balance}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{balance}{balance}}
{\footnotesize\ttfamily core\+\_\+test.\+Restful\+Test.\+balance}



Definition at line 355 of file core\+\_\+test.\+py.



Referenced by core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+update\+\_\+balance(), core.\+utils.\+Payment\+Gate.\+authenticated(), and core.\+utils.\+Payment\+Gate.\+get\+\_\+balance().

\mbox{\Hypertarget{classcore__test_1_1_restful_test_a4dc72461b15b6f932432a4db513a866b}\label{classcore__test_1_1_restful_test_a4dc72461b15b6f932432a4db513a866b}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!pas@{pas}}
\index{pas@{pas}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{pas}{pas}}
{\footnotesize\ttfamily core\+\_\+test.\+Restful\+Test.\+pas}



Definition at line 174 of file core\+\_\+test.\+py.



Referenced by core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+auth(), and core\+\_\+test.\+Restful\+Test.\+test\+\_\+register().

\mbox{\Hypertarget{classcore__test_1_1_restful_test_a1ec653702172428df9325542d1972a76}\label{classcore__test_1_1_restful_test_a1ec653702172428df9325542d1972a76}} 
\index{core\_test.RestfulTest@{core\_test.RestfulTest}!uname@{uname}}
\index{uname@{uname}!core\_test.RestfulTest@{core\_test.RestfulTest}}
\doxysubsubsection{\texorpdfstring{uname}{uname}}
{\footnotesize\ttfamily core\+\_\+test.\+Restful\+Test.\+uname}



Definition at line 173 of file core\+\_\+test.\+py.



Referenced by core\+\_\+test.\+Restful\+Test.\+\_\+\+\_\+auth(), and core\+\_\+test.\+Restful\+Test.\+test\+\_\+register().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
core/tests/\mbox{\hyperlink{core__test_8py}{core\+\_\+test.\+py}}\end{DoxyCompactItemize}
